doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title BlackJack Game
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js')
    script(src='https://unpkg.com/@popperjs/core@2.4.0/dist/umd/popper.min.js')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz' crossorigin='anonymous')
    link(href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet')
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    script(src='/javascripts/blackjackGame.js')
    style.
      body, html {
      background-color: black;
      }
      .game-table{
      position: relative;
      background-image: url("/images/BJBG.png"); 
      background-size: cover;
      background-position: center;
      height: 90vh; 
      width: 97%;
      border-radius: 10px;
      top:0px;
      overflow: hidden;
      }
      #boredbtn{
      position: fixed;
      bottom: 80px;
      right: 15px;
      height: 50px;
      background-color: green;
      color: goldenrod;
      border-radius: 2px;
      border-color:goldenrod
      }

      .invisible {
        visibility: hidden;
      }
      .visible{
        visibility: visible;
      }

      .disabled{
        pointer-events: none;
      }

      #playerhand{
        position: absolute;
        bottom: 120px;
        left: 40%;
        display: flex;
        justify-items: center;
        align-content: center;
        height: 190px;
      }
      #splithand{
        position: absolute;
        bottom: 120px;
        left: 40%;
        display: flex;
        justify-items: center;
        align-content: center;
        height: 150px;
        padding:100px;
      }

      #dealerhand{
        position: absolute;
        top: 30px;
        left: 40%;
      
        display: flex;
        justify-items: center;
        align-content: center;
        height: 190px;
      }

      #newhand{
      position: absolute;
      bottom: 120px;
      left: 50%;
      transform: translateX(-50%);
      display: grid;
      justify-items: center;
      align-content: center;
      height: 200px;
      width:130px;
      background-color: rgba(251, 245, 245,0.11);
      }
      .game-text{
      color:white;
      }
      .info{
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 18px;
      color:white;
      }
      #deck {
      position: absolute;
      top: 20px;
      right: 35px;
      transform: rotate(-45deg);
      height: 150px;
      }
      .token{
      position: absolute;
      bottom: 20px;
      left: 20px;
      }
      #token-slot{
      width: 340px;
      height: 70px;
      border: 4px solid #E0A526;
      background-color: rgba(211,211,211,0.25);
      display:flex;
      }
      .chip{
      height:60px;
      width:60px;
      margin-top: -2px;
      }
      #dealerlabel{
        position:absolute;
        left:28%;
        top: 30px;
      }
      #playerlabel{
        position:absolute;
        left: 30%;
        bottom:265px;
      }
      #allin, #rebet{
        border:2px dotted goldenrod;
        margin: 5px;
        border-radius:30px;
        color:goldenrod;
      }

      .board-button{
        background-color:rgba(0, 0, 0,0);
        border:none;
      }

      .cards{
        height:200px;
      }

      #win-label{
        position: absolute;
        top: 40%;
        left: 45%;
        transform: translate(-50%, -50%);
        font-size:36px;
        font-weight: bold;
        color:goldenrod;
      }

      #hit-buttons{
        position: absolute;
        bottom: 33px;
        right: 50px;
        width: 270px;
        height: 80px;
        border: 4px solid darkblue;
        background-color: rgba(211,211,211,0.25);
      }
      #split-buttons{
        position: absolute;
        bottom: 50px;
        right: 75px;
        border: 2px dotted white;

      }
      #newdeal{
        position: absolute;
        border: 3px dotted white;
        bottom: 33px;
        right: 40%;
        height:40px;
        width:90px;
        border-radius:10px;
        background-color:rgba(255, 255, 255,0.4);
      }
      
  body
    .container.mt-3
      .row.justify-content-center
        .col
          .game-table
            img#deck(src='/images/card_back.png')
            // Deck stack
            .info
              // Info Button
              i#info.material-icons(data-bs-toggle='collapse' data-bs-target='#infoText' aria-expanded='false' aria-controls='infoText') info
              #infoText.collapse(style='background-color: rgba(0, 0, 0,0.5); padding:10px;')
                #infobox
                  p Whoever is closest to 21 wins.
                  p Dealer must stand on 17 (hard or soft)
                  p Dealer must hit on 16.
            #newhand.rounded.border
              // player empty hand spot
              i.material-icons(style='font-size:36px; color:white;' onclick='StartGame()') add_circle_outline
              p.game-text Click to Play
            
            .token
              // Bet chips
              .row
                .col
                  p.game-text(style='font-size:20px; margin-left:10px;') Place your bet:
                  #token-slot.row.g-1
                    .col-md-auto
                      button.board-button.chip(onclick='AddWager(1)')
                        img.chip(src='images/Chips/chip_1.png')
                    .col-md-auto
                      button.board-button.chip(onclick='AddWager(25)')
                        img.chip(src='images/Chips/chip_25.png')
                    .col-md-auto
                      button.board-button.chip(onclick='AddWager(50)')
                        img.chip(src='images/Chips/chip_50.png')
                    .col-md-auto
                      button.board-button.chip(onclick='AddWager(100)')
                        img.chip(src='images/Chips/chip_100.png')
                    .col-md-auto
                      button.board-button.chip(onclick='AddWager(500)')
                        img.chip(src='images/Chips/chip_500.png')
                .col.game-text(style='margin-left:-130px;height:35px') 
                  button#allin.board-button(onclick='AllIn()') All in
                  button#rebet.board-button(onclick='Rebet()') Rebet

                .col-md-auto.game-text(style='margin-top:45px; ')
                  .row
                    .col-md-auto
                      p Your Balance:
                    #balance.col-md-auto
                      p   $1000
                  .row
                    .col-md-auto
                      p Your Wager:
                    .col-md-auto
                      p#wager   $0
                    .col 
                      button#clear-wager.board-button
                        i.material-icons(style='color:red;' onclick="ClearWager()") do_not_disturb_on

            button#newdeal.invisible(onclick='ResetDeal()') New Bet

            #hit-buttons.row.g-1.invisible
              .col(style='margin-left:3px')
                button.board-button.game-text(onclick='Hit()')
                  i.material-icons(style='font-size:34px; color:limegreen;') library_add  
                  p(style='margin-left:3px') Hit 
              .col(style='padding-right:5px;padding-left:5px')(onclick='Stand()')
                button.board-button.game-text
                  i.material-icons(style='font-size:34px; color:red;') back_hand  
                  p Stand   
              .col(style='padding-right:5px;padding-left:5px;margin-top:-1px')
                button.board-button.game-text(onclick='Double()')
                  i.material-symbols-outlined(style='font-size:50px; color:pink; ') speed_2x
                  p(style='margin-top:-12px') Double
              .col(style='padding-left:10px')
                button.board-button.game-text(onclick='Split()')
                  i.material-icons(style='font-size:34px; color:white;') compare 
                  p Split     
            
            #split-buttons.row.invisible
              button.board-button.game-text(onclick='SplitHit()')
                  i.material-icons(style='font-size:28px; color:limegreen;') add_outline  
                  p(style='margin-left:3px') Hit
              button.board-button.game-text(onclick='SplitStand')
                i.material-icons(style='font-size:28px; color:red;') back_hand  
                p(style='margin-left:3px') Stand

            .game-text
              .row
                #dealerlabel.col
                  p Dealer Hand:
                  p#dealervalue
                #dealerhand

              .container
                .row
                  #playerlabel.col
                    p  Your Hand:
                    p#playervalue
                  #playerhand.col-lg-1
                  #splithand.invisible 
          p#win-label    
    div
      button#boredbtn.rounded-circle(onclick='BackHome()') Take Me Back!
 
